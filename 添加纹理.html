<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <script src="./three.js"></script>
</head>
<body>
    <img src="./texture/winejar.png" style="display: none;" alt="">
</body>
<script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(100, 1.3, 200, 400);
    camera.position.z =400;
    camera.lookAt(scene.position);
    // var cube = new THREE.CylinderGeometry(20,20,60,20);
    // scene.add(cube)
    var geometry = new THREE.PlaneGeometry(200,100,1,1);
    geometry.vertices[0].uv = new THREE.Vector2(0, 0);
    geometry.vertices[1].uv = new THREE.Vector2(1, 0);
    geometry.vertices[2].uv = new THREE.Vector2(1, 1);
    geometry.vertices[3].uv = new THREE.Vector2(0, 1);

    var texture = new THREE.TextureLoader();
    texture.load('./texture/winejar.png',function(t){
        var material = new THREE.MeshBasicMaterial({
            map:t
        })
        var mesh = new THREE.Mesh(geometry, material)
        scene.add(mesh)
    })
    // var texture = THREE.ImageUtils.loadTexture("./texture/winejar.png",null,function(t){
    //         console.log('image loaded');
    //     });
    // var material = new THREE.MeshBasicMaterial({
    //     map:texture
    // })
    // var mesh = new THREE.Mesh(geometry, material);
    // scene.add(mesh);

    var ambient = new THREE.AmbientLight(0xfffff);
    scene.add(ambient);
    var renderer  = new THREE.WebGLRenderer();
    var w = window.innerWidth,
        h = window.innerHeight;

    renderer.setSize(w,h)
    renderer.setClearColor(0x9d3ff, 1);
    document.body.appendChild(renderer.domElement);

    function render(){
        requestAnimationFrame(render);
        renderer.render(scene, camera)
    }
    render()

    // var camera, scene, renderer;
    // var mesh;

    // init();
    // animate();

    // function init() {

    //     renderer = new THREE.WebGLRenderer();
    //     renderer.setSize( window.innerWidth, window.innerHeight );
    //     document.body.appendChild( renderer.domElement );
    //     //
    //     camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
    //     camera.position.z = 400;
    //     scene = new THREE.Scene();


    //     var geometry = new THREE.PlaneGeometry( 500, 300, 1, 1 );
    //     geometry.vertices[0].uv = new THREE.Vector2(0,0);
    //     geometry.vertices[1].uv = new THREE.Vector2(2,0);
    //     geometry.vertices[2].uv = new THREE.Vector2(2,2);
    //     geometry.vertices[3].uv = new THREE.Vector2(0,2);
    //     // 纹理坐标怎么弄
    //     var texture = THREE.ImageUtils.loadTexture("./texture/winejar.png",null,function(t)
    //     {
    //     });
    //     var material = new THREE.MeshBasicMaterial({map:texture});
    //     var mesh = new THREE.Mesh( geometry,material );
    //     scene.add( mesh );

    //     //
    //     window.addEventListener( 'resize', onWindowResize, false );

    // }

    // function onWindowResize() {
    //     camera.aspect = window.innerWidth / window.innerHeight;
    //     camera.updateProjectionMatrix();
    //     renderer.setSize( window.innerWidth, window.innerHeight );
    // }

    // function animate() {
    //     requestAnimationFrame( animate );
    //     renderer.render( scene, camera );
    // }
</script>
</html>